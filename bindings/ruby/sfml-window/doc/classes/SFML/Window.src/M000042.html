<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>getEvent (SFML::Window)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>/* call-seq:
 *   window.getEvent()  -&gt; event or nil
 *
 * Pop the event on top of events stack, if any, and return it.
 *
 * This function is not blocking: if there's no pending event then it will return nil. Note that more than the returned
 * event may be present in the events stack, thus you should always call this function in a loop to make sure that you
 * process every pending event. 
 */
static VALUE Window_GetEvent( VALUE self )
{
        sf::Event event;
        sf::Window *window = NULL;
        Data_Get_Struct( self, sf::Window, window );
        if( window-&gt;GetEvent( event ) == true )
        {
                VALUE rbObject = rb_funcall( globalEventClass, rb_intern( &quot;new&quot; ), 1, INT2FIX( event.Type ) );
                sf::Event *rubyRawEvent = NULL;
                Data_Get_Struct( rbObject, sf::Event, rubyRawEvent );
                *rubyRawEvent = event;
                return rbObject;
        }
        else
        {
                return Qnil;
        }      
}</pre>
</body>
</html>