<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>waitEvent (SFML::Window)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>/* call-seq:
 *   window.waitEvent() -&gt; event or nil
 *
 * Wait for an event and return it.
 *
 * This function is blocking: if there's no pending event then it will wait until an event is received. After this 
 * function returns (and no error occured), the event object is always valid and filled properly. This function is 
 * typically used when you have a thread that is dedicated to events handling: you want to make this thread sleep as 
 * long as no new event is received. 
 */
static VALUE Window_WaitEvent( VALUE self )
{
        sf::Event event;
        sf::Window *window = NULL;
        Data_Get_Struct( self, sf::Window, window );
        if( window-&gt;WaitEvent( event ) == true )
        {
                VALUE rbObject = rb_funcall( globalEventClass, rb_intern( &quot;new&quot; ), 1, INT2FIX( event.Type ) );
                sf::Event *rubyRawEvent = NULL;
                Data_Get_Struct( rbObject, sf::Event, rubyRawEvent );
                *rubyRawEvent = event;
                return rbObject;
        }
        else
        {
                return Qnil;
        }      
}</pre>
</body>
</html>